<!DOCTYPE html>
<html>
<f:view xmlns="http://www.w3.org/1999/xhtml"
        xmlns:f="http://java.sun.com/jsf/core"
        xmlns:h="http://java.sun.com/jsf/html"
        xmlns:p="http://primefaces.org/ui"
        >
    <h:head>
        <title>#{msg.get('menu.rework')}</title>
        <meta name="viewport" content="width=device-width"/>
        <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
        <meta name="apple-mobile-web-app-capable" content="yes" />
        <script type="text/javascript">if(window.PrimeFaces){}</script>

        <link href="../resources/primefaces-atlas-layout/theme.css" rel="stylesheet"/>
        <link href="../resources/primefaces-atlas-layout/theme2.css" rel="stylesheet"/>
        <h:outputStylesheet name="css/atlas-layout.css" />
        <h:outputStylesheet name="css/style.css" />
        <h:outputScript library="js" name="custom.js" />
    </h:head>
    <h:body style="background-color: #0292c7">
        <h:form id="frmRework">
            <div>
                <div class="Container100 title">
                    <h:outputText value="#{msg.get('menu.dashboard.real.time')}" />
                </div>
                <div class="Container100 white">
                    <div style="font-size: 1.2em; color: #ffffff; float: left">
                        <h:outputText value="Date : " /><p:clock autoSync="true" pattern="dd/MM/yyyy HH:mm:ss" />
                    </div>
                    <div class="btn-back">
                        <p:commandButton id="btn_Back" value="Back" action="#{reworkBean.onClickBtnBack}"
                                         process="@form"
                                         update=":frmRework:factoryItem, :frmRework:buildingFloorItem, :frmRework:lineItem"/>
                    </div>
                </div>
                <div class="Container100 white">
                    <div style="font-size: 1.2em; float: left; color: #ffffff;">
                        <h:outputText value="#{msg.get('menu.rework')}" />
                    </div>
                </div>
                <div class="Container100" style="margin-top: -7px;">
                    <div class="Container33">
                        <p:selectOneMenu id="factoryItem" value="#{reworkBean.factoryId}" styleClass="dropdown">
                            <f:selectItem itemLabel="#{msg.get('item.label.SelectFactory')}" itemValue="0" noSelectionOption="true" />
                            <f:selectItems value="#{reworkBean.factoryModelList}"
                                           var="factoryItem"
                                           itemLabel="#{factoryItem.name}"
                                           itemValue="#{factoryItem.id}"/>
                            <p:ajax listener="#{reworkBean.filterBuildingFloor}" update=":frmRework:buildingFloorItem"/>
                        </p:selectOneMenu>
                    </div>
                    <div class="Container33">
                        <p:selectOneMenu id="buildingFloorItem"  value="#{reworkBean.buildingFloorId}" styleClass="dropdown">
                            <f:selectItem itemLabel="#{msg.get('item.label.SelectBuildFloor')}" itemValue="0" noSelectionOption="true" />
                            <f:selectItems value="#{reworkBean.buildingFloorModelList}"
                                           var="buildingFloorItem"
                                           itemLabel="#{buildingFloorItem.name}"
                                           itemValue="#{buildingFloorItem.id}"/>
                            <p:ajax listener="#{reworkBean.filterLine}" update=":frmRework:lineItem"/>
                        </p:selectOneMenu>
                    </div>
                    <div class="Container33">
                        <p:selectOneMenu id="lineItem"  value="#{reworkBean.lineId}" styleClass="dropdown">
                            <f:selectItem itemLabel="#{msg.get('item.label.SelectLine')}" itemValue="0" noSelectionOption="true" />
                            <f:selectItems value="#{reworkBean.lineModelList}"
                                           var="lineItem"
                                           itemLabel="#{lineItem.code} - #{lineItem.name}"
                                           itemValue="#{lineItem.id}"/>
                            <p:ajax listener="#{reworkBean.filterValue}" update=""/>
                        </p:selectOneMenu>
                    </div>
                </div>
                <div class="Container100">
                    <p:dataTable id="reworkTable"
                                 widgetVar="carsTable"
                                 var="reworkTableView"
                                 value="#{reworkBean.reworkTableViewList}"
                                 rowIndexVar="rowIndex">

                        <p:columnGroup type="header">
                            <p:row>
                                <p:column colspan="1" headerText="Rework" priority="10" />
                                <p:column colspan="3" headerText="Taget" priority="10" />
                            </p:row>
                            <p:row>
                                <p:column rowspan="2" colspan="1" headerText="#{msg.get('table.header.sutureLine')}" />
                                <p:column colspan="1" headerText="#{msg.get('table.header.percentOfYesterday')}" />
                                <p:column colspan="1" headerText="#{msg.get('table.header.percentOfToday')}" />
                                <p:column rowspan="2" colspan="1" headerText="#{msg.get('table.header.trends')}" />
                            </p:row>
                            <p:row>
                                <p:column colspan="1" headerText="#{dateBean.previousDate}" />
                                <p:column colspan="1" headerText="#{dateBean.currentDate}" />
                            </p:row>
                        </p:columnGroup>

                        <p:column filterMatchMode="contains" filterBy="#{reworkTableView.country}" headerText="#{msg.get('table.header.sutureLine')}" >
                            <f:facet name="filter">
                                <p:selectCheckboxMenu label="Colors" onchange="PF('carsTable').filter()" >
                                    <f:selectItem itemLabel="LO" itemValue="#{reworkTableView.country}"  />
                                    <f:selectItem itemLabel="TH" itemValue="#{reworkTableView.country}" />
                                </p:selectCheckboxMenu>
                            </f:facet>
                            <h:outputText value="#{reworkTableView.country}" />
                        </p:column>
                        <p:column filterMatchMode="contains" filterBy="#{reworkTableView.factory}" headerText="#{msg.get('table.header.percentOfYesterday')}" >
                            <h:outputText value="#{reworkTableView.factory}" />
                        </p:column>
                        <p:column filterMatchMode="contains" filterBy="#{reworkTableView.line}" headerText="#{msg.get('table.header.percentOfToday')}" >
                            <h:outputText value="#{reworkTableView.line}" />
                        </p:column>
                        <p:column rendered="#{true}" headerText="#{msg.get('table.header.trends')}" >
                            <!--<img src="../resources/images/Icon/up-01.png"/>-->
                            <!--<p:graphicImage library="images" name="/Icon/up-01.png"/>-->
                            <h:outputText value="#{reworkTableView.trends}" />
                        </p:column>
                    </p:dataTable>
                </div>
            </div>
        </h:form>
    </h:body>
</f:view>
</html>